<!DOCTYPE html>

<link rel="stylesheet" href="{{site.baseurl}}/css/example.css">

<div>
    <div class="Container-Adapters">
        {% for adapter in include.content.adapters %}
        <p class="Select-Adapter-Name" id="{{ adapter.name }}">
            {{ adapter.name }}
        </p>
        {% endfor %}
    </div>

    {% for adapter in include.content.adapters %}
    <div id="Block-Example-{{adapter.name}}" class="Select-Vis-Disabled">
        <div class="Example-Block">
            <div id="Visualization-{{ adapter.name }}"></div>
            <div id="AccessibilityTree-{{ adapter.name }}"></div>
        </div>
        {% include {{ adapter.code }} %}
    </div>
    {% endfor %}
    <script>
        let selectedAdapter = document.getElementById('Vega-Lite');
        selectedAdapter.classList.add('Select-Adapter-Name-Selected');
        document.getElementById('Block-Example-Vega-Lite').classList.remove('Select-Vis-Disabled');

        window.onload = () => {
            let adapters = document.getElementsByClassName('Select-Adapter-Name');
            for (let i = 0; i < adapters.length; i++) {
                let ad = adapters.item(i);
                ad.addEventListener('click', () => {
                    updateSelectedAdapter(ad)
                })
            }
        }

        const updateSelectedAdapter = (newAdapter) => {
            selectedAdapter.classList.remove('Select-Adapter-Name-Selected')
            document.getElementById(`Block-Example-${selectedAdapter.id}`).classList.add('Select-Vis-Disabled');
            selectedAdapter = newAdapter;
            selectedAdapter.classList.add('Select-Adapter-Name-Selected')
            document.getElementById(`Block-Example-${newAdapter.id}`).classList.remove('Select-Vis-Disabled');
        }
    </script>
</div>