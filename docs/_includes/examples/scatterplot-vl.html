<!DOCTYPE html>

<head>
  {% include imports.html %}
</head>

<body>
  <div class="Code-Block">
    <code class="prettyprint">
    let spec = { ... }
      

    let vegaSpec = vegaLite.compile(spec).spec
    const runtime = vega.parse(vegaSpec);
    const vegaRender = document.getElementById('Visualization-Vega-Lite');
    let view = new vega.View(runtime)
      .logLevel(vega.Warn)
      .initialize(vegaRender)
      .renderer('svg')
      .hover()
      .run();
  
    olli({ 
      visualization: OlliAdapters.VegaAdapter(view, spec),
      renderType: "tree", 
      domId: "AccessibilityTree-Vega-Lite"
    })
  </code>
  </div>
    <script type="module">
      let spec = {
        "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
        "description": "A scatterplot showing body mass and flipper lengths of penguins.",
        "data": {
          "url": "https://raw.githubusercontent.com/vega/vega-datasets/next/data/penguins.json"
        },
        "mark": "point",
        "encoding": {
          "x": {
            "field": "Flipper Length (mm)",
            "type": "quantitative",
            "scale": { "zero": false }
          },
          "y": {
            "field": "Body Mass (g)",
            "type": "quantitative",
            "scale": { "zero": false }
          },
          "color": { "field": "Species", "type": "nominal" },
          "shape": { "field": "Species", "type": "nominal" }
        }
      }


      let vegaSpec = vegaLite.compile(spec).spec
      const runtime = vega.parse(vegaSpec);
      const vegaRender = document.getElementById('Visualization-Vega-Lite');
      let view = new vega.View(runtime)
        .logLevel(vega.Warn)
        .initialize(vegaRender)
        .renderer('svg')
        .hover()
        .runAsync()
        .then(v => {
          olli({
            visualization: OlliAdapters.VegaLiteAdapter(v.scenegraph().root.items[0], spec),
            renderType: "tree",
            domId: "AccessibilityTree-Vega-Lite"
          })
        });
    </script>
</body>