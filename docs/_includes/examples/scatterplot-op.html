<!DOCTYPE html>

<head>
    {% include imports.html %}
</head>

<body>
    <div class="Code-Block">
    <code class="prettyprint">
        import * as Plot from "https://cdn.skypack.dev/@observablehq/plot@0.5";

        d3.json("https://raw.githubusercontent.com/vega/vega-datasets/next/data/penguins.json").then((data) => {
            let spec = { ... }

            document.getElementById("Visualization-ObservablePlot").append(Plot.plot(spec))

            olli({
                visualization: OlliAdapters.ObservablePlotAdapter(spec, Plot.plot(spec)),
                renderType: "tree",
                domId: "AccessibilityTree-ObservablePlot"
            })
        })
  </code>
    </div>
    <script type="module">
        import * as Plot from "https://cdn.skypack.dev/@observablehq/plot@0.5";

        d3.json("https://raw.githubusercontent.com/vega/vega-datasets/next/data/penguins.json").then((data) => {
            let spec = {
                // color: {
                //   legend: true,
                // },
                grid: true,
                color: {
                    type: "ordinal",
                    scheme: "category10",
                    legend: true
                },
                y: {
                    format: d => d.toLocaleString(undefined, { useGrouping: false })
                },
                marks: [
                    Plot.dot(data, { x: "Flipper Length (mm)", y: "Body Mass (g)", fill: "Species" }),
                    Plot.ruleY([0])
                ]
            }

            document.getElementById("Visualization-ObservablePlot").append(Plot.plot(spec))

            olli({
                visualization: OlliAdapters.ObservablePlotAdapter(spec, Plot.plot(spec)),
                renderType: "tree",
                domId: "AccessibilityTree-ObservablePlot"
            })
        })
    </script>
</body>